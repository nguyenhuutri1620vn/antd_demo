{"ast":null,"code":"import _classCallCheck from\"/home/trinh/Documents/code/mss-showme/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/trinh/Documents/code/mss-showme/node_modules/@babel/runtime/helpers/esm/createClass.js\";import Cookies from'js-cookie';import _ from'lodash';import moment from'moment';var Cookie=/*#__PURE__*/function(){function Cookie(){_classCallCheck(this,Cookie);this.keys={TOKEN:'token'};}_createClass(Cookie,[{key:\"setItem\",value:function setItem(key,value,option){var onlyDomain=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;Cookies.set(key,value,this.calcOption(option,onlyDomain));}},{key:\"getItem\",value:function getItem(key){return Cookies.get(key);}},{key:\"getItemJson\",value:function getItemJson(key){try{var value=Cookies.get(key);return JSON.parse(value);}catch(e){return null;}}},{key:\"setItemJson\",value:function setItemJson(key,value,option){var onlyDomain=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;Cookies.set(key,JSON.stringify(value),this.calcOption(option,onlyDomain));}},{key:\"removeItem\",value:function removeItem(key,option){var onlyDomain=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;Cookies.remove(key,this.calcOption(option,onlyDomain));}},{key:\"calcOption\",value:function calcOption(option){var onlyDomain=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var calcOption=typeof option==='object'?_.cloneDeep(option):{};if(!calcOption.domain&&onlyDomain){var host=window.location.host;var hostSegments=host.split(':')[0].split('.');var domain=hostSegments.splice(-2).join('.');calcOption.domain=\".\".concat(domain);}if(!(calcOption.expires instanceof Date)){var expiredDate=null;if(calcOption.expires>0){expiredDate=new Date(calcOption.expires);}else{expiredDate=moment().add(30,'minutes').toDate();}calcOption.expires=expiredDate;}return calcOption;}}]);return Cookie;}();export default new Cookie();","map":{"version":3,"names":["Cookies","_","moment","Cookie","_classCallCheck","keys","TOKEN","_createClass","key","value","setItem","option","onlyDomain","arguments","length","undefined","set","calcOption","getItem","get","getItemJson","JSON","parse","e","setItemJson","stringify","removeItem","remove","cloneDeep","domain","host","window","location","hostSegments","split","splice","join","concat","expires","Date","expiredDate","add","toDate"],"sources":["/home/trinh/Documents/code/mss-showme/src/app/utils/cookie.ts"],"sourcesContent":["import Cookies, { CookieAttributes } from 'js-cookie';\nimport _ from 'lodash';\nimport moment from 'moment';\n\nclass Cookie {\n  keys = {\n    TOKEN: 'token',\n  };\n\n  setItem(key: string, value: any, option: object, onlyDomain: boolean = true): void {\n    Cookies.set(key, value, this.calcOption(option, onlyDomain));\n  }\n\n  getItem(key: string): string | undefined {\n    return Cookies.get(key);\n  }\n\n  getItemJson(key: string): any {\n    try {\n      const value: any = Cookies.get(key);\n      return JSON.parse(value);\n    } catch (e) {\n      return null;\n    }\n  }\n\n  setItemJson(key: string, value: any, option: any, onlyDomain = true): void {\n    Cookies.set(key, JSON.stringify(value), this.calcOption(option, onlyDomain));\n  }\n\n  removeItem(key: string, option: any, onlyDomain = true): void {\n    Cookies.remove(key, this.calcOption(option, onlyDomain));\n  }\n\n  calcOption(option: any, onlyDomain = true): CookieAttributes {\n    let calcOption: any = typeof option === 'object' ? _.cloneDeep(option) : {};\n    if (!calcOption.domain && onlyDomain) {\n      const host = window.location.host;\n      const hostSegments = host.split(':')[0].split('.');\n      const domain = hostSegments.splice(-2).join('.');\n      calcOption.domain = `.${domain}`;\n    }\n\n    if (!(calcOption.expires instanceof Date)) {\n      let expiredDate = null;\n      if (calcOption.expires > 0) {\n        expiredDate = new Date(calcOption.expires);\n      } else {\n        expiredDate = moment().add(30, 'minutes').toDate();\n      }\n      calcOption.expires = expiredDate;\n    }\n\n    return calcOption;\n  }\n}\n\nexport default new Cookie();\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}