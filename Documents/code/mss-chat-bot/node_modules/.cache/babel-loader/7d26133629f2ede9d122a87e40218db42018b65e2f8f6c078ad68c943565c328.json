{"ast":null,"code":"import React,{useEffect}from'react';import{RobotOutlined,UserOutlined}from'@ant-design/icons';import{Avatar,Col,Row}from'antd';import{Content}from'antd/lib/layout/layout';import numeral from'numeral';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var formatNumber='0,0.00';var ChatMessage=function ChatMessage(_ref){var isOpen=_ref.isOpen,isLoadingRespons=_ref.isLoadingRespons,submitMessage=_ref.submitMessage;useEffect(function(){var objDiv=document.querySelector('.ant-modal-body');if(objDiv!==null){objDiv.scrollTop=objDiv.scrollHeight;}},[isOpen,submitMessage]);return/*#__PURE__*/_jsxs(Content,{id:\"chatbot-messenge-chatbot-content\",children:[/*#__PURE__*/_jsxs(Row,{className:\"message-chatbot message-bot\",children:[/*#__PURE__*/_jsx(Col,{span:2,className:\"avatar-bot\",children:/*#__PURE__*/_jsx(Avatar,{icon:/*#__PURE__*/_jsx(RobotOutlined,{}),size:40})}),/*#__PURE__*/_jsx(Col,{span:21,className:\"messenge-content\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Hi there. Feel free to ask me any question. abc\"})})]},\"default-message\"),submitMessage===null||submitMessage===void 0?void 0:submitMessage.map(function(message,index){return(message===null||message===void 0?void 0:message.sender)==='user'?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Row,{className:\"message-chatbot message-user\",children:[/*#__PURE__*/_jsx(Col,{span:22,className:\"messenge-content\",style:{paddingRight:'5px'},children:/*#__PURE__*/_jsx(\"p\",{children:message===null||message===void 0?void 0:message.text})}),/*#__PURE__*/_jsx(Col,{span:2,className:\"avatar-chatbot-user\",children:/*#__PURE__*/_jsx(Avatar,{icon:/*#__PURE__*/_jsx(UserOutlined,{}),size:40})})]},index)}):/*#__PURE__*/_jsxs(Row,{className:\"message-chatbot message-bot\",children:[/*#__PURE__*/_jsx(Col,{span:2,className:\"avatar-bot\",children:/*#__PURE__*/_jsx(Avatar,{icon:/*#__PURE__*/_jsx(RobotOutlined,{}),size:40})}),/*#__PURE__*/_jsx(Col,{span:21,className:\"messenge-content\",children:/*#__PURE__*/_jsxs(\"p\",{children:[message===null||message===void 0?void 0:message.text,(message===null||message===void 0?void 0:message.type)==='json'&&/*#__PURE__*/_jsxs(\"table\",{className:\"table-chat-bot\",children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"table-chat-bot\",children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-chat-bot\",children:\"Vendor Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-chat-bot\",children:\"Spend\"})]}),message===null||message===void 0?void 0:message.content.filter(function(n){return n.id!==0;}).map(function(item,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"table-chat-bot\",children:(item===null||item===void 0?void 0:item.id)!==-1&&item.id}),/*#__PURE__*/_jsx(\"td\",{className:\"table-chat-bot\",children:item===null||item===void 0?void 0:item.vendor_name}),/*#__PURE__*/_jsx(\"td\",{className:\"table-chat-bot\",children:numeral(item===null||item===void 0?void 0:item.total_spend).format(formatNumber)})]},index);})]})]})})]},index);}),isLoadingRespons&&/*#__PURE__*/_jsxs(Row,{className:\"message-chatbot message-bot\",children:[/*#__PURE__*/_jsx(Col,{span:2,className:\"avatar-bot\",children:/*#__PURE__*/_jsx(Avatar,{icon:/*#__PURE__*/_jsx(RobotOutlined,{}),size:40})}),/*#__PURE__*/_jsx(Col,{span:21,style:{background:'#E4E6EB',padding:'10px',borderRadius:50,maxWidth:50},children:/*#__PURE__*/_jsxs(\"div\",{className:\"chatbot-typing\",children:[/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{})]})})]})]},\"chatbot-messenge-chatbot-content\");};export default ChatMessage;","map":{"version":3,"names":["React","useEffect","RobotOutlined","UserOutlined","Avatar","Col","Row","Content","numeral","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","formatNumber","ChatMessage","_ref","isOpen","isLoadingRespons","submitMessage","objDiv","document","querySelector","scrollTop","scrollHeight","id","children","className","span","icon","size","map","message","index","sender","style","paddingRight","text","type","content","filter","n","item","vendor_name","total_spend","format","background","padding","borderRadius","maxWidth"],"sources":["/home/trinh/Documents/code/mss-showme/src/components/ChatBot/ChatMessage.tsx"],"sourcesContent":["import React, { FC, PropsWithChildren, useEffect } from 'react';\nimport { RobotOutlined, UserOutlined } from '@ant-design/icons';\nimport { Avatar, Col, Row } from 'antd';\nimport { Content } from 'antd/lib/layout/layout';\nimport numeral from 'numeral';\n\nexport interface IChatMessage {\n    isOpen: boolean\n    isLoadingRespons: boolean\n    submitMessage: any[]\n}\n\nconst formatNumber = '0,0.00'\nconst ChatMessage: FC<PropsWithChildren<IChatMessage>> = ({ isOpen, isLoadingRespons, submitMessage }: any) => {\n\n    useEffect(() => {\n        let objDiv = document.querySelector('.ant-modal-body');\n        if (objDiv !== null) {\n            objDiv.scrollTop = objDiv.scrollHeight;\n        }\n    }, [isOpen, submitMessage]);\n\n    return (\n        <Content key=\"chatbot-messenge-chatbot-content\" id=\"chatbot-messenge-chatbot-content\">\n            <Row key=\"default-message\" className='message-chatbot message-bot'>\n                <Col span={2} className='avatar-bot'>\n                    <Avatar icon={<RobotOutlined />} size={40} />\n                </Col>\n                <Col span={21} className='messenge-content'>\n                    <p>\n                        Hi there. Feel free to ask me any question. abc\n                    </p>\n                </Col>\n            </Row>\n            {\n                submitMessage?.map((message: any, index: number) => {\n                    return (\n                        message?.sender === 'user' ?\n                            <>\n                                <Row key={index} className={`message-chatbot message-user`}>\n                                    <Col span={22} className='messenge-content' style={{ paddingRight: '5px' }}>\n                                        <p >\n                                            {message?.text}\n                                        </p>\n                                    </Col>\n                                    <Col span={2} className='avatar-chatbot-user'>\n                                        <Avatar icon={<UserOutlined />} size={40} />\n                                    </Col>\n                                </Row>\n                            </>\n                            :\n                            <Row key={index} className={`message-chatbot message-bot`}>\n                                <Col span={2} className='avatar-bot'>\n                                    <Avatar icon={<RobotOutlined />} size={40} />\n                                </Col>\n                                <Col span={21} className='messenge-content'>\n                                    <p>\n                                        {message?.text}\n                                        {message?.type === 'json' &&\n                                            <table className='table-chat-bot'>\n                                                <tr>\n                                                    <th className='table-chat-bot'>ID</th>\n                                                    <th className='table-chat-bot'>Vendor Name</th>\n                                                    <th className='table-chat-bot'>Spend</th>\n                                                </tr>\n                                                {message?.content.filter((n: any) => n.id !== 0).map((item: any, index: number) => {\n                                                    return (\n                                                        <tr key={index}>\n                                                            <td className='table-chat-bot'>{item?.id !== -1 && item.id}</td>\n                                                            <td className='table-chat-bot'>{item?.vendor_name}</td>\n                                                            <td className='table-chat-bot'>{numeral(item?.total_spend).format(formatNumber)}</td>\n                                                        </tr>\n                                                    )\n                                                })}\n                                            </table>\n                                        }\n                                    </p>\n                                </Col>\n                            </Row>\n                    )\n                })\n            }\n            {isLoadingRespons &&\n                <Row className={`message-chatbot message-bot`}>\n                    <Col span={2} className='avatar-bot' >\n                        <Avatar icon={<RobotOutlined />} size={40} />\n                    </Col>\n                    <Col span={21} style={{ background: '#E4E6EB', padding: '10px', borderRadius: 50, maxWidth: 50 }}>\n                        <div className=\"chatbot-typing\" >\n                            <span></span>\n                            <span></span>\n                            <span></span>\n                        </div>\n                    </Col>\n                </Row>}\n        </Content>\n    );\n};\n\nexport default ChatMessage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}