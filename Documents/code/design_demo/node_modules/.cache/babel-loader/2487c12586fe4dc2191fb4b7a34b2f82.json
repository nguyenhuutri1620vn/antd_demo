{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createCountryBoundaryLayer = void 0;\n\nvar utils_1 = require(\"../../utils\");\n\nvar path_layer_1 = require(\"../../layers/path-layer\");\n\nvar constants_1 = require(\"./constants\");\n/**\n * 创建中国国界线图层\n */\n\n\nvar createCountryBoundaryLayer = function (data, plotConfig) {\n  var _a = plotConfig || {},\n      visible = _a.visible,\n      minZoom = _a.minZoom,\n      maxZoom = _a.maxZoom,\n      _b = _a.zIndex,\n      zIndex = _b === void 0 ? 0 : _b,\n      chinaBorder = _a.chinaBorder;\n\n  var borderStyle = typeof chinaBorder === 'object' ? (0, utils_1.deepAssign)({}, constants_1.CHINA_BOUNDARY_STYLE, chinaBorder) : constants_1.CHINA_BOUNDARY_STYLE;\n  var chinaBoundaryFeatures = data.features.filter(function (_a) {\n    var properties = _a.properties;\n    return ['coast', 'hkm', 'national'].includes(properties === null || properties === void 0 ? void 0 : properties['type']);\n  });\n  var disputeBoundaryFeatures = data.features.filter(function (_a) {\n    var properties = _a.properties;\n    return (properties === null || properties === void 0 ? void 0 : properties['type']) === 'dispute';\n  });\n  var chinaBoundaryLayer = new path_layer_1.PathLayer({\n    name: 'chinaBoundaryLayer',\n    visible: visible,\n    minZoom: minZoom,\n    maxZoom: maxZoom,\n    zIndex: zIndex + 0.1,\n    source: {\n      data: {\n        type: 'FeatureCollection',\n        features: chinaBoundaryFeatures\n      },\n      parser: {\n        type: 'geojson'\n      }\n    },\n    color: {\n      field: 'type',\n      value: function (_a) {\n        var type = _a.type;\n        return borderStyle[type].color;\n      }\n    },\n    size: {\n      field: 'type',\n      value: function (_a) {\n        var type = _a.type;\n        return borderStyle[type].width;\n      }\n    },\n    style: {\n      opacity: ['type', function (type) {\n        return borderStyle[type].opacity;\n      }]\n    }\n  });\n  var chinaDisputeBoundaryLayer = new path_layer_1.PathLayer({\n    name: 'chinaDisputeBoundaryLayer',\n    visible: visible,\n    minZoom: minZoom,\n    maxZoom: maxZoom,\n    zIndex: zIndex + 0.1,\n    source: {\n      data: {\n        type: 'FeatureCollection',\n        features: disputeBoundaryFeatures\n      },\n      parser: {\n        type: 'geojson'\n      }\n    },\n    color: borderStyle.dispute.color,\n    size: borderStyle.dispute.width,\n    style: {\n      opacity: borderStyle.dispute.opacity,\n      lineType: 'dash',\n      dashArray: borderStyle.dispute.dashArray\n    }\n  });\n  return {\n    chinaBoundaryLayer: chinaBoundaryLayer,\n    chinaDisputeBoundaryLayer: chinaDisputeBoundaryLayer\n  };\n};\n\nexports.createCountryBoundaryLayer = createCountryBoundaryLayer;","map":null,"metadata":{},"sourceType":"script"}