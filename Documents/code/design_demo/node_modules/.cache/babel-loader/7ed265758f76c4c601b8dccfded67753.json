{"ast":null,"code":"import { ArrayExt } from '../../../util';\nconst OPEN = 1;\nconst CLOSE = 2;\nexport class SortedSet {\n  constructor() {\n    this.items = [];\n    this.hash = {};\n    this.values = {};\n  }\n\n  add(item, value) {\n    if (this.hash[item]) {\n      // item removal\n      this.items.splice(this.items.indexOf(item), 1);\n    } else {\n      this.hash[item] = OPEN;\n    }\n\n    this.values[item] = value;\n    const index = ArrayExt.sortedIndexBy(this.items, item, key => this.values[key]);\n    this.items.splice(index, 0, item);\n  }\n\n  pop() {\n    const item = this.items.shift();\n\n    if (item) {\n      this.hash[item] = CLOSE;\n    }\n\n    return item;\n  }\n\n  isOpen(item) {\n    return this.hash[item] === OPEN;\n  }\n\n  isClose(item) {\n    return this.hash[item] === CLOSE;\n  }\n\n  isEmpty() {\n    return this.items.length === 0;\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}