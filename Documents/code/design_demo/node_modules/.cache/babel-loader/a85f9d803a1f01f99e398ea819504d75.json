{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\n\nvar earth_1 = require(\"../crs/earth\");\n\nvar util_1 = require(\"../../util\");\n\nvar lng_lat_bounds_1 = require(\"./lng-lat-bounds\");\n\nvar LngLat =\n/** @class */\nfunction () {\n  function LngLat(lng, lat, alt) {\n    if (isNaN(lat) || isNaN(lng)) {\n      throw new Error(\"\\u65E0\\u6548\\u7684\\u7ECF\\u7EAC\\u5EA6\\u53C2\\u6570: (\" + lng + \",' \" + lat);\n    }\n\n    this.lat = +lat;\n    this.lng = +lng;\n\n    if (alt !== undefined) {\n      this.alt = +alt;\n    }\n  }\n\n  LngLat.prototype.equals = function (lnglat, threshold) {\n    if (!lnglat) {\n      return false;\n    }\n\n    var newLnglat = toLngLat(lnglat);\n\n    if (newLnglat === undefined) {\n      return false;\n    }\n\n    var margin = Math.max(Math.abs(this.lat - newLnglat.lat), Math.abs(this.lng - newLnglat.lng));\n    return margin <= (threshold === undefined ? 1.0e-9 : threshold);\n  };\n\n  LngLat.prototype.toString = function (precision) {\n    return \"LngLat(\" + util_1.formatNum(this.lng, precision) + \", \" + util_1.formatNum(this.lat, precision) + \")\";\n  };\n\n  LngLat.prototype.distanceTo = function (other) {\n    return earth_1.earth.distance(this, toLngLat(other));\n  };\n\n  LngLat.prototype.wrap = function () {\n    // console.log(earth.infinite);\n    return earth_1.earth.wrapLngLat(this);\n  };\n\n  LngLat.prototype.toBounds = function (sizeInMeters) {\n    var latAccuracy = 180 * sizeInMeters / 40075017;\n    var lngAccuracy = latAccuracy / Math.cos(Math.PI / 180 * this.lat);\n    return lng_lat_bounds_1.toLngLatBounds([this.lng - lngAccuracy, this.lat - latAccuracy], [this.lng + lngAccuracy, this.lat + latAccuracy]);\n  };\n\n  LngLat.prototype.clone = function () {\n    return new LngLat(this.lng, this.lat, this.alt);\n  };\n\n  return LngLat;\n}();\n\nexports.LngLat = LngLat;\n\nfunction toLngLat(a, b, c) {\n  if (a instanceof LngLat) {\n    return a;\n  }\n\n  if (Array.isArray(a) && typeof a[0] !== 'object') {\n    if (a.length === 3) {\n      return new LngLat(a[0], a[1], a[2]);\n    }\n\n    if (a.length === 2) {\n      return new LngLat(a[0], a[1]);\n    }\n  }\n\n  if (a === undefined || a === null) {\n    throw new Error(\"\\u65E0\\u6548\\u7684\\u7ECF\\u7EAC\\u5EA6\\u53C2\\u6570: (\" + a + \", \" + b + \")\");\n  }\n\n  if (typeof a === 'object' && 'lat' in a) {\n    return new LngLat(a.lng, 'lng' in a ? a.lat : 0, a.alt);\n  }\n\n  if (b === undefined) {\n    throw new Error(\"\\u65E0\\u6548\\u7684\\u7ECF\\u7EAC\\u5EA6\\u53C2\\u6570: (\" + a + \", \" + b + \")\");\n  }\n\n  return new LngLat(Number(a), b, c);\n}\n\nexports.toLngLat = toLngLat;","map":null,"metadata":{},"sourceType":"script"}