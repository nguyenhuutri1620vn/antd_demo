{"ast":null,"code":"import React from 'react';\nimport { useXFlowApp } from '@antv/xflow-core';\nimport { ToolbarConfig } from './config';\nimport { XFlowToolbar } from './render-components';\nexport const CanvasToolbar = props => {\n  const app = useXFlowApp();\n  const hasApp = !!app;\n  /** 获取ContextMenu的配置 */\n\n  const contextMenuConfig = React.useMemo(() => props.config ? props.config : new ToolbarConfig(), [props.config]);\n\n  if (!hasApp) {\n    return null;\n  }\n\n  return React.createElement(XFlowToolbar, Object.assign({}, props, {\n    config: contextMenuConfig\n  }));\n};\nexport const createToolbarConfig = addOptions => value => {\n  /** bridge config and value */\n  const proxy = React.useMemo(() => ({\n    getValue: () => ({})\n  }), []);\n\n  proxy.getValue = () => value;\n  /** 生成config */\n\n\n  const toolbarConfig = React.useMemo(() => {\n    const config = new ToolbarConfig();\n    addOptions(config, proxy);\n    return config;\n  }, [proxy]);\n  return toolbarConfig;\n};","map":null,"metadata":{},"sourceType":"module"}