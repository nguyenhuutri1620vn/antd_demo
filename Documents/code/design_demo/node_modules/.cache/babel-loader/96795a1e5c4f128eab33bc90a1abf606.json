{"ast":null,"code":"import { __awaiter, __decorate, __metadata } from \"tslib\";\nimport { DisposableCollection, Disposable } from '@antv/xflow-core';\nimport { IHookContribution, ManaSyringe } from '@antv/xflow-core';\nimport { IMinimapConfigProvider } from '../interface';\n/**\n * 内置的hook contribution\n * 处理 config上的runtime的注册项\n */\n\nlet HookContribution = class HookContribution {\n  constructor() {\n    this.toDispose = new DisposableCollection();\n\n    this.registerHookHub = () => __awaiter(this, void 0, void 0, function* () {\n      return Disposable.create(() => {});\n    });\n\n    this.registerHook = hooks => __awaiter(this, void 0, void 0, function* () {\n      const toDispose = new DisposableCollection();\n      const disposables = [hooks.graphOptions.registerHook({\n        name: 'add minimap options',\n        handler: args => __awaiter(this, void 0, void 0, function* () {\n          // 对齐线配置，辅助移动节点排版（详细文档：https://X6.antv.vision/zh/docs/tutorial/basic/snapline）\n          const minimapOptions = yield this.minimapConfig.getConfig();\n          args.minimap = Object.assign({}, minimapOptions);\n        })\n      })];\n      toDispose.pushAll(disposables);\n      return Disposable.create(() => {});\n    });\n  }\n\n};\n\n__decorate([ManaSyringe.inject(IMinimapConfigProvider), __metadata(\"design:type\", Object)], HookContribution.prototype, \"minimapConfig\", void 0);\n\nHookContribution = __decorate([ManaSyringe.singleton({\n  contrib: IHookContribution\n})], HookContribution);\nexport { HookContribution };","map":null,"metadata":{},"sourceType":"module"}