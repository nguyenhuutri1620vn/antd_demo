{"ast":null,"code":"/*\n * @Author: Shiwu\n * @Description: 收起和展开 Combo\n */\nvar DEFAULT_TRIGGER = 'dblclick';\nvar ALLOW_EVENTS = ['click', 'dblclick'];\nexport default {\n  getDefaultCfg: function getDefaultCfg() {\n    return {\n      trigger: DEFAULT_TRIGGER,\n      relayout: true\n    };\n  },\n  getEvents: function getEvents() {\n    var _a;\n\n    var trigger; // 检测输入是否合法\n\n    if (ALLOW_EVENTS.includes(this.trigger)) {\n      trigger = this.trigger;\n    } else {\n      trigger = DEFAULT_TRIGGER; // eslint-disable-next-line no-console\n\n      console.warn(\"Behavior collapse-expand-group 的 trigger 参数不合法，请输入 'click' 或 'dblclick'\");\n    }\n\n    return _a = {}, _a[\"combo:\".concat(trigger)] = 'onComboClick', _a;\n  },\n  onComboClick: function onComboClick(evt) {\n    var item = evt.item;\n\n    var _a = this,\n        graph = _a.graph,\n        relayout = _a.relayout;\n\n    if (!item || item.destroyed || item.getType() !== 'combo') return;\n    var model = item.getModel();\n    var comboId = model.id;\n\n    if (!comboId) {\n      return;\n    }\n\n    graph.collapseExpandCombo(comboId);\n    if (relayout && graph.get('layout')) graph.layout();else graph.refreshPositions();\n  }\n};","map":null,"metadata":{},"sourceType":"module"}