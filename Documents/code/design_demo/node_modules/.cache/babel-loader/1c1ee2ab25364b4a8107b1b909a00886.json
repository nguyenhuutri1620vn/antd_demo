{"ast":null,"code":"import { getCanvas } from './register';\nvar lastTime = 0;\nvar id = 0;\n\nfunction hack(cb) {\n  var now = Date.now();\n  var nextTime = Math.max(lastTime + 23, now);\n  id = setTimeout(function () {\n    cb(lastTime = nextTime);\n  }, nextTime - now);\n  return id;\n}\n\nfunction requestAnimationFrame(cb) {\n  var canvas = getCanvas();\n\n  if (canvas.requestAnimationFrame) {\n    return canvas.requestAnimationFrame(cb);\n  } else {\n    return hack(cb);\n  }\n}\n\nfunction cancelAnimationFrame(id) {\n  var canvas = getCanvas();\n\n  if (canvas.cancelAnimationFrame) {\n    return canvas.cancelAnimationFrame(id);\n  } else {\n    return clearTimeout(id);\n  }\n}\n\nexport { requestAnimationFrame, cancelAnimationFrame };","map":null,"metadata":{},"sourceType":"module"}