{"ast":null,"code":"/* eslint-disable @typescript-eslint/lines-between-class-members */\nimport { ReactShape } from '@antv/x6-react-shape';\nimport { Node } from '@antv/x6';\nimport { XFLOW_NODE_SHAPE, NODE_DEFAULT_WIDTH, NODE_DEFAULT_HEIGHT } from '../constants';\nimport { NsGraph, XFlowConstants } from '@antv/xflow-core';\nlet XFlowNode;\nconst {\n  AnchorGroup\n} = NsGraph;\n\nif (Node.registry.exist(XFLOW_NODE_SHAPE)) {\n  XFlowNode = Node.registry.get(XFLOW_NODE_SHAPE);\n} else {\n  XFlowNode = ReactShape.define({\n    width: NODE_DEFAULT_WIDTH,\n    height: NODE_DEFAULT_HEIGHT,\n    shape: XFLOW_NODE_SHAPE,\n    // X6_NODE_PORTAL_NODE_VIEW\n    view: XFlowConstants.X6_NODE_PORTAL_NODE_VIEW,\n    ports: {\n      groups: {\n        top: {\n          zIndex: 2,\n          position: {\n            name: AnchorGroup.TOP\n          }\n        },\n        bottom: {\n          zIndex: 2,\n          position: {\n            name: AnchorGroup.BOTTOM\n          }\n        },\n        right: {\n          zIndex: 2,\n          position: {\n            name: AnchorGroup.RIGHT\n          }\n        },\n        left: {\n          zIndex: 2,\n          position: {\n            name: AnchorGroup.LEFT\n          }\n        }\n      }\n    },\n    attrs: {\n      body: {\n        magnet: false,\n        fill: 'none',\n        stroke: 'none',\n        refWidth: '100%',\n        refHeight: '100%',\n        zIndex: 1\n      }\n    },\n    portMarkup: [{\n      tagName: 'g',\n      selector: 'xflow-port-group',\n      className: 'xflow-port-group',\n      attrs: {\n        width: 8,\n        height: 8,\n        x: -4,\n        y: -4,\n        zIndex: 10,\n        // magnet决定是否可交互\n        magnet: 'true'\n      },\n      children: [{\n        tagName: 'circle',\n        selector: 'xflow-port',\n        className: 'xflow-port',\n        attrs: {\n          r: 4,\n          fill: '#fff',\n          stroke: '#d9d9d9',\n          zIndex: 12\n        }\n      }, {\n        tagName: 'polygon',\n        selector: 'xflow-port-arrow',\n        className: 'xflow-port-arrow',\n        attrs: {\n          points: '0,0 8,0 4,4 ',\n          fill: '#d9d9d9',\n          stroke: '#d9d9d9',\n          zIndex: 13,\n          transform: 'translate(-4,0)'\n        }\n      }]\n    }]\n  });\n}\n\nexport { XFlowNode, AnchorGroup };","map":null,"metadata":{},"sourceType":"module"}