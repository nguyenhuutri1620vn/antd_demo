{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport TapRecognizer from './tap_recognizer';\n\nvar TapZoomHandler = function () {\n  function TapZoomHandler() {\n    _classCallCheck(this, TapZoomHandler);\n\n    _defineProperty(this, \"enabled\", void 0);\n\n    _defineProperty(this, \"active\", void 0);\n\n    _defineProperty(this, \"zoomIn\", void 0);\n\n    _defineProperty(this, \"zoomOut\", void 0);\n\n    this.zoomIn = new TapRecognizer({\n      numTouches: 1,\n      numTaps: 2\n    });\n    this.zoomOut = new TapRecognizer({\n      numTouches: 2,\n      numTaps: 1\n    });\n    this.reset();\n  }\n\n  _createClass(TapZoomHandler, [{\n    key: \"reset\",\n    value: function reset() {\n      this.active = false;\n      this.zoomIn.reset();\n      this.zoomOut.reset();\n    }\n  }, {\n    key: \"touchstart\",\n    value: function touchstart(e, points, mapTouches) {\n      this.zoomIn.touchstart(e, points, mapTouches);\n      this.zoomOut.touchstart(e, points, mapTouches);\n    }\n  }, {\n    key: \"touchmove\",\n    value: function touchmove(e, points, mapTouches) {\n      this.zoomIn.touchmove(e, points, mapTouches);\n      this.zoomOut.touchmove(e, points, mapTouches);\n    }\n  }, {\n    key: \"touchend\",\n    value: function touchend(e, points, mapTouches) {\n      var _this = this;\n\n      var zoomInPoint = this.zoomIn.touchend(e, points, mapTouches);\n      var zoomOutPoint = this.zoomOut.touchend(e, points, mapTouches);\n\n      if (zoomInPoint) {\n        this.active = true;\n        e.preventDefault();\n        setTimeout(function () {\n          return _this.reset();\n        }, 0);\n        return {\n          cameraAnimation: function cameraAnimation(map) {\n            return map.easeTo({\n              duration: 300,\n              zoom: map.getZoom() + 1,\n              around: map.unproject(zoomInPoint)\n            }, {\n              originalEvent: e\n            });\n          }\n        };\n      } else if (zoomOutPoint) {\n        this.active = true;\n        e.preventDefault();\n        setTimeout(function () {\n          return _this.reset();\n        }, 0);\n        return {\n          cameraAnimation: function cameraAnimation(map) {\n            return map.easeTo({\n              duration: 300,\n              zoom: map.getZoom() - 1,\n              around: map.unproject(zoomOutPoint)\n            }, {\n              originalEvent: e\n            });\n          }\n        };\n      }\n    }\n  }, {\n    key: \"touchcancel\",\n    value: function touchcancel() {\n      this.reset();\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.enabled = true;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.enabled = false;\n      this.reset();\n    }\n  }, {\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return this.enabled;\n    }\n  }, {\n    key: \"isActive\",\n    value: function isActive() {\n      return this.active;\n    }\n  }]);\n\n  return TapZoomHandler;\n}();\n\nexport { TapZoomHandler as default };","map":null,"metadata":{},"sourceType":"module"}