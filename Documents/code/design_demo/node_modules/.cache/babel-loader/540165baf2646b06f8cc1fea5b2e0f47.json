{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MappingSource = void 0;\n\nvar MappingSource =\n/** @class */\nfunction () {\n  function MappingSource() {}\n\n  MappingSource.aggregation = function (source, aggregation) {\n    var _a = aggregation.type,\n        type = _a === void 0 ? 'grid' : _a,\n        radius = aggregation.radius,\n        method = aggregation.method,\n        field = aggregation.field;\n    var config = {\n      type: type,\n      size: radius,\n      method: method,\n      field: field\n    };\n\n    if (source.transforms) {\n      // 过滤 transform 有相同配置情况\n      source.transforms = source.transforms.filter(function (transform) {\n        return transform.type !== config.type;\n      });\n      source.transforms.push(config);\n    } else {\n      source.transforms = [config];\n    }\n  };\n\n  return MappingSource;\n}();\n\nexports.MappingSource = MappingSource;","map":null,"metadata":{},"sourceType":"script"}