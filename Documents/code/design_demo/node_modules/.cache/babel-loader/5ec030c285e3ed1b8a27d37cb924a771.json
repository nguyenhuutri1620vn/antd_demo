{"ast":null,"code":"import { filter } from '@antv/util';\nimport { getInteractionCfg } from '../interactions/brush';\nimport { deepAssign } from '../utils';\n/** 先引入brush 交互 */\n\nimport '../interactions/brush';\nvar BRUSH_TYPES = ['brush', 'brush-x', 'brush-y', 'brush-highlight', 'brush-x-highlight', 'brush-y-highlight'];\n/**\n * brush 交互\n */\n\nexport function brushInteraction(params) {\n  var options = params.options;\n  var brush = options.brush; // 先过滤掉 brush 等交互\n\n  var interactions = filter(options.interactions || [], function (i) {\n    return BRUSH_TYPES.indexOf(i.type) === -1;\n  }); // 设置 brush 交互\n\n  if (brush === null || brush === void 0 ? void 0 : brush.enabled) {\n    BRUSH_TYPES.forEach(function (type) {\n      var _a;\n\n      var enable = false;\n\n      switch (brush.type) {\n        case 'x-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-x-highlight' : 'brush-x');\n          break;\n\n        case 'y-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-y-highlight' : 'brush-y');\n          break;\n\n        default:\n          enable = type === (brush.action === 'highlight' ? 'brush-highlight' : 'brush');\n          break;\n      }\n\n      var obj = {\n        type: type,\n        enable: enable\n      };\n\n      if (((_a = brush.mask) === null || _a === void 0 ? void 0 : _a.style) || brush.type) {\n        obj.cfg = getInteractionCfg(type, brush.type, brush.mask);\n      }\n\n      interactions.push(obj);\n    }); // 塞入 button 配置 (G2Plot 的封装)\n\n    if ((brush === null || brush === void 0 ? void 0 : brush.action) !== 'highlight') {\n      interactions.push({\n        type: 'filter-action',\n        cfg: {\n          buttonConfig: brush.button\n        }\n      });\n    }\n  }\n\n  return deepAssign({}, params, {\n    options: {\n      interactions: interactions\n    }\n  });\n}","map":null,"metadata":{},"sourceType":"module"}