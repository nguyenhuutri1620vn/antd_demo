{"ast":null,"code":"import React, { useEffect, useRef, useState, useCallback } from 'react';\nimport { DatePicker } from 'antd';\nimport moment from 'moment';\nexport var DatetimePicker = function (props) {\n  var className = props.className,\n      style = props.style,\n      disabled = props.disabled,\n      value = props.value,\n      onChange = props.onChange;\n\n  var _a = useState(value ? moment(value) : undefined),\n      innerValue = _a[0],\n      setInnerValue = _a[1];\n\n  var mountedRef = useRef(false);\n  useEffect(function () {\n    if (!mountedRef.current) {\n      mountedRef.current = true;\n      return;\n    }\n\n    var valueMoment = moment(value);\n\n    if (valueMoment.isValid()) {\n      setInnerValue(valueMoment);\n    }\n  }, [value]);\n  var onChangeMoment = useCallback(function (_, dateString) {\n    var nextMoment = moment(dateString);\n    setInnerValue(nextMoment.isValid() ? nextMoment : undefined);\n\n    if (typeof onChange === 'function') {\n      onChange(nextMoment.isValid() ? nextMoment.format('YYYY-MM-DD HH:mm:ss') : '');\n    }\n  }, [onChange]);\n  return React.createElement(DatePicker, {\n    showTime: true,\n    allowClear: true,\n    className: className,\n    style: style,\n    disabled: disabled,\n    value: innerValue,\n    onChange: onChangeMoment\n  });\n};","map":null,"metadata":{},"sourceType":"module"}