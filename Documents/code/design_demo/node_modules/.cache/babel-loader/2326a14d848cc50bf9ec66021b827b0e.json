{"ast":null,"code":"import { getImage } from '@antv/l7-utils';\nexport default function image(data, cfg) {\n  var _cfg$extent = cfg.extent,\n      extent = _cfg$extent === void 0 ? [121.168, 30.2828, 121.384, 30.4219] : _cfg$extent;\n  var images = new Promise(function (resolve) {\n    loadData(data, function (res) {\n      resolve(res);\n    });\n  });\n  var resultData = {\n    originData: data,\n    images: images,\n    _id: 1,\n    dataArray: [{\n      _id: 0,\n      coordinates: [[extent[0], extent[1]], [extent[2], extent[3]]]\n    }]\n  };\n  return resultData;\n}\n\nfunction loadData(data, done) {\n  var url = data;\n  var imageDatas = [];\n\n  if (typeof url === 'string') {\n    getImage({\n      url: url\n    }, function (err, img) {\n      imageDatas.push(img);\n      done(imageDatas);\n    });\n  } else {\n    var imageCount = url.length;\n    var imageindex = 0;\n    url.forEach(function (item) {\n      getImage({\n        url: item\n      }, function (err, img) {\n        imageindex++;\n        imageDatas.push(img);\n\n        if (imageindex === imageCount) {\n          done(imageDatas);\n        }\n      });\n    });\n  }\n\n  return image;\n}","map":null,"metadata":{},"sourceType":"module"}