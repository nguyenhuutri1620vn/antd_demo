{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _constant = require(\"./constant\");\n\nvar _index = _interopRequireDefault(require(\"./index.worker\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * 创建一个在worker中运行的算法\n * @param type 算法类型\n */\n\n\nvar createWorker = function createWorker(type) {\n  return function () {\n    var data = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      data[_i] = arguments[_i];\n    }\n\n    return new Promise(function (resolve, reject) {\n      var worker = new _index.default();\n      worker.postMessage({\n        _algorithmType: type,\n        data: data\n      });\n\n      worker.onmessage = function (event) {\n        var _a = event.data,\n            data = _a.data,\n            _algorithmType = _a._algorithmType;\n\n        if (_constant.MESSAGE.SUCCESS === _algorithmType) {\n          resolve(data);\n        } else {\n          reject();\n        }\n\n        worker.terminate();\n      };\n    });\n  };\n};\n\nvar _default = createWorker;\nexports.default = _default;","map":null,"metadata":{},"sourceType":"script"}