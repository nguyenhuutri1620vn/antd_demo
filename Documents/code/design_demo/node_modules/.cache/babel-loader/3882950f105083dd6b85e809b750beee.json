{"ast":null,"code":"import React, { useState, useEffect } from 'react';\nimport { DefaultNodeConfig } from '../../../flowchart-node-panel';\nimport { FlowchartFormWrapper } from '../../form-wrapper';\nimport { InputFiled, ColorPicker, Position, InputNumberFiled, Size } from './fields';\nimport { PREFIX } from './constants';\n\nconst NodeComponent = props => {\n  const {\n    config,\n    plugin = {}\n  } = props;\n  const {\n    updateNode\n  } = plugin;\n  const [nodeConfig, setNodeConfig] = useState(Object.assign(Object.assign({}, DefaultNodeConfig), config));\n\n  const onNodeConfigChange = (key, value) => {\n    setNodeConfig(Object.assign(Object.assign({}, nodeConfig), {\n      [key]: value\n    }));\n    updateNode({\n      [key]: value\n    });\n  };\n\n  useEffect(() => {\n    setNodeConfig(Object.assign(Object.assign({}, DefaultNodeConfig), config));\n  }, [config]);\n  return React.createElement(\"div\", {\n    className: `${PREFIX}-panel-body`\n  }, React.createElement(\"div\", {\n    className: `${PREFIX}-panel-group`\n  }, React.createElement(\"h5\", null, \"\\u5185\\u5BB9\"), React.createElement(InputFiled, {\n    label: \"\\u6807\\u9898\",\n    value: nodeConfig.label,\n    onChange: value => {\n      onNodeConfigChange('label', value);\n    }\n  })), React.createElement(\"div\", {\n    className: `${PREFIX}-panel-group`\n  }, React.createElement(\"h5\", null, \"\\u6837\\u5F0F\"), React.createElement(Position, {\n    x: nodeConfig.x,\n    y: nodeConfig.y,\n    onChange: (key, value) => {\n      onNodeConfigChange(key, value);\n    }\n  }), React.createElement(Size, {\n    width: nodeConfig.width,\n    height: nodeConfig.height,\n    onChange: (key, value) => {\n      onNodeConfigChange(key, value);\n    }\n  }), React.createElement(ColorPicker, {\n    label: \"\\u586B\\u5145\",\n    value: nodeConfig.fill,\n    onChange: value => {\n      onNodeConfigChange('fill', value);\n    }\n  }), React.createElement(ColorPicker, {\n    label: \"\\u8FB9\\u6846\",\n    value: nodeConfig.stroke,\n    onChange: value => {\n      onNodeConfigChange('stroke', value);\n    }\n  }), React.createElement(\"div\", {\n    className: `${PREFIX}-node-text-style`\n  }, React.createElement(InputNumberFiled, {\n    label: \"\\u5B57\\u53F7\",\n    value: nodeConfig.fontSize,\n    width: 68,\n    onChange: value => {\n      onNodeConfigChange('fontSize', value);\n    }\n  }), React.createElement(ColorPicker, {\n    value: nodeConfig.fontFill,\n    onChange: value => {\n      onNodeConfigChange('fontFill', value);\n    }\n  }))));\n};\n\nexport const NodeService = props => {\n  return React.createElement(FlowchartFormWrapper, Object.assign({}, props), (config, plugin) => React.createElement(NodeComponent, Object.assign({}, props, {\n    plugin: plugin,\n    config: config\n  })));\n};","map":null,"metadata":{},"sourceType":"module"}