{"ast":null,"code":"import { useState, useEffect, useCallback } from 'react';\nexport default function useAsync(fn) {\n  const [state, set] = useState({\n    loading: true\n  });\n  const callback = useCallback(() => {\n    fn().then(value => {\n      set({\n        loading: false,\n        data: value\n      });\n    }, error => {\n      set({\n        loading: false\n      });\n      console.error(error);\n    });\n  }, [fn]);\n  useEffect(() => {\n    callback();\n  }, [callback]);\n  return state;\n}","map":null,"metadata":{},"sourceType":"module"}