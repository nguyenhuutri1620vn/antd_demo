{"ast":null,"code":"import React, { useEffect, useRef, useState, useCallback } from 'react';\nimport { DatePicker } from 'antd';\nimport moment from 'moment';\nexport const DatetimePicker = props => {\n  const {\n    className,\n    style,\n    disabled,\n    value,\n    onChange\n  } = props;\n  const [innerValue, setInnerValue] = useState(value ? moment(value) : undefined);\n  const mountedRef = useRef(false);\n  useEffect(() => {\n    if (!mountedRef.current) {\n      mountedRef.current = true;\n      return;\n    }\n\n    const valueMoment = moment(value);\n\n    if (valueMoment.isValid()) {\n      setInnerValue(valueMoment);\n    }\n  }, [value]);\n  const onChangeMoment = useCallback((_, dateString) => {\n    const nextMoment = moment(dateString);\n    setInnerValue(nextMoment.isValid() ? nextMoment : undefined);\n\n    if (typeof onChange === 'function') {\n      onChange(nextMoment.isValid() ? nextMoment.format('YYYY-MM-DD HH:mm:ss') : '');\n    }\n  }, [onChange]);\n  return React.createElement(DatePicker, {\n    showTime: true,\n    allowClear: true,\n    className: className,\n    style: style,\n    disabled: disabled,\n    value: innerValue,\n    onChange: onChangeMoment\n  });\n};","map":null,"metadata":{},"sourceType":"module"}