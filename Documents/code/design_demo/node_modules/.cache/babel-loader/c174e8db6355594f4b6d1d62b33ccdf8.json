{"ast":null,"code":"import util from './util';\n\nconst addBorderSegments = g => {\n  var _a;\n\n  const dfs = v => {\n    const children = g.children(v);\n    const node = g.node(v);\n\n    if (children === null || children === void 0 ? void 0 : children.length) {\n      children.forEach(child => dfs(child));\n    }\n\n    if (node.hasOwnProperty('minRank')) {\n      node.borderLeft = [];\n      node.borderRight = [];\n\n      for (let rank = node.minRank, maxRank = node.maxRank + 1; rank < maxRank; ++rank) {\n        addBorderNode(g, \"borderLeft\", \"_bl\", v, node, rank);\n        addBorderNode(g, \"borderRight\", \"_br\", v, node, rank);\n      }\n    }\n  };\n\n  (_a = g.children()) === null || _a === void 0 ? void 0 : _a.forEach(child => dfs(child));\n};\n\nconst addBorderNode = (g, prop, prefix, sg, sgNode, rank) => {\n  const label = {\n    rank,\n    width: 0,\n    height: 0,\n    borderType: prop\n  };\n  const prev = sgNode[prop][rank - 1];\n  const curr = util.addDummyNode(g, \"border\", label, prefix);\n  sgNode[prop][rank] = curr;\n  g.setParent(curr, sg);\n\n  if (prev) {\n    g.setEdge(prev, curr, {\n      weight: 1\n    });\n  }\n};\n\nexport default addBorderSegments;","map":null,"metadata":{},"sourceType":"module"}