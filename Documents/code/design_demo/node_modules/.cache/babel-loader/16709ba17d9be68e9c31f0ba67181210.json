{"ast":null,"code":"/**\n * 调用 gpuDetector.webgl 判断当前浏览器是否支持 webgl。（支持 gpgpu 的浏览器一定也支持 webgl）\n */\nexport var gpuDetector = function gpuDetector() {\n  if (typeof window === 'undefined' || typeof document === 'undefined') return {};\n  return {\n    canvas: !!window.CanvasRenderingContext2D,\n    webgl: function () {\n      try {\n        var canvas = document.createElement('canvas');\n        return !!(window.WebGLRenderingContext && (canvas.getContext('webgl') || canvas.getContext('experimental-webgl')));\n      } catch (e) {\n        return false;\n      }\n    }(),\n    workers: !!window.Worker,\n    fileapi: window.File && window.FileReader && window.FileList && window.Blob,\n    getWebGLErrorMessage: function getWebGLErrorMessage() {\n      var element = document.createElement('div');\n      element.id = 'webgl-error-message';\n      element.style.fontFamily = 'monospace';\n      element.style.fontSize = '13px';\n      element.style.fontWeight = 'normal';\n      element.style.textAlign = 'center';\n      element.style.background = '#fff';\n      element.style.color = '#000';\n      element.style.padding = '1.5em';\n      element.style.width = '400px';\n      element.style.margin = '5em auto 0';\n\n      if (!this.webgl) {\n        element.innerHTML = window.WebGLRenderingContext ? ['Your graphics card does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" rel=\"external nofollow\" rel=\"external nofollow\" style=\"color:#000\">WebGL</a>.<br />', 'Find out how to get it <a href=\"http://get.webgl.org/\" rel=\"external nofollow\" rel=\"external nofollow\" style=\"color:#000\">here</a>.'].join('\\n') : ['Your browser does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" rel=\"external nofollow\" rel=\"external nofollow\" style=\"color:#000\">WebGL</a>.<br/>', 'Find out how to get it <a href=\"http://get.webgl.org/\" rel=\"external nofollow\" rel=\"external nofollow\" style=\"color:#000\">here</a>.'].join('\\n');\n      }\n\n      return element;\n    },\n    addGetWebGLMessage: function addGetWebGLMessage(parameters) {\n      parameters = parameters || {};\n      var parent = parameters.parent !== undefined ? parameters.parent : document.body;\n      var id = parameters.id !== undefined ? parameters.id : 'oldie';\n      var element = gpuDetector().getWebGLErrorMessage();\n      element.id = id;\n      parent.appendChild(element);\n    }\n  };\n};","map":null,"metadata":{},"sourceType":"module"}