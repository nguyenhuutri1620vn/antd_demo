{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport ResizeDetector from 'react-resize-detector';\nimport { ScrollBox } from '../scroll-box';\nexport class AutoScrollBox extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.onContentResize = (width, height) => {\n      if (this.props.scrollX) {\n        this.setState({\n          contentWidth: width\n        });\n      }\n\n      if (this.props.scrollY) {\n        this.setState({\n          contentHeight: height\n        });\n      }\n    };\n\n    this.state = {\n      contentWidth: null,\n      contentHeight: null\n    };\n  }\n\n  render() {\n    const _a = this.props,\n          {\n      prefixCls,\n      children,\n      scrollX,\n      scrollY,\n      scrollBoxProps\n    } = _a,\n          props = __rest(_a, [\"prefixCls\", \"children\", \"scrollX\", \"scrollY\", \"scrollBoxProps\"]);\n\n    return React.createElement(ResizeDetector, Object.assign({\n      handleWidth: scrollX,\n      handleHeight: scrollY\n    }, props), size => {\n      const {\n        width,\n        height\n      } = size;\n      const others = {};\n\n      if (!scrollX) {\n        others.contentWidth = width;\n      }\n\n      if (!scrollY) {\n        others.contentHeight = height;\n      }\n\n      if (this.state.contentWidth != null) {\n        others.contentWidth = this.state.contentWidth;\n      }\n\n      if (this.state.contentHeight != null) {\n        others.contentHeight = this.state.contentHeight;\n      }\n\n      return React.createElement(ScrollBox, Object.assign({\n        dragable: false,\n        scrollbarSize: 3\n      }, scrollBoxProps, {\n        containerWidth: width,\n        containerHeight: height\n      }), React.createElement(\"div\", {\n        className: `${prefixCls}-auto-scroll-box-content`\n      }, React.createElement(ResizeDetector, {\n        handleWidth: scrollX,\n        handleHeight: scrollY,\n        skipOnMount: true,\n        onResize: this.onContentResize\n      }, children)));\n    });\n  }\n\n}\n\n(function (AutoScrollBox) {\n  AutoScrollBox.defaultProps = {\n    prefixCls: 'x6',\n    scrollX: true,\n    scrollY: true\n  };\n})(AutoScrollBox || (AutoScrollBox = {}));","map":null,"metadata":{},"sourceType":"module"}