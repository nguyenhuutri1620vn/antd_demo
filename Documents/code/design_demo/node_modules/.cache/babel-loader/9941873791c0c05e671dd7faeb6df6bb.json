{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HeatmapLayer = void 0;\n\nvar tslib_1 = require(\"tslib\");\n\nvar util_1 = require(\"@antv/util\");\n\nvar l7_layers_1 = require(\"@antv/l7-layers\");\n\nvar plot_layer_1 = require(\"../../core/layer/plot-layer\");\n\nvar adaptor_1 = require(\"./adaptor\");\n\nvar DEFAULT_OPTIONS = {\n  source: {\n    data: [],\n    parser: {\n      type: 'json',\n      x: 'x',\n      y: 'y'\n    }\n  },\n  shape: 'heatmap',\n  size: {\n    value: [0, 1]\n  },\n  style: {\n    intensity: 3,\n    radius: 20,\n    opacity: 1,\n    colorsRamp: [{\n      color: 'rgba(33,102,172,0.0)',\n      position: 0\n    }, {\n      color: 'rgb(103,169,207)',\n      position: 0.2\n    }, {\n      color: 'rgb(209,229,240)',\n      position: 0.4\n    }, {\n      color: 'rgb(253,219,199)',\n      position: 0.6\n    }, {\n      color: 'rgb(239,138,98)',\n      position: 0.8\n    }, {\n      color: 'rgb(178,24,43,1.0)',\n      position: 1\n    }]\n  }\n};\nvar LAYER_OPTIONS_KEYS = ['shape', 'color', 'size', 'style', 'state'];\n\nvar HeatmapLayer =\n/** @class */\nfunction (_super) {\n  (0, tslib_1.__extends)(HeatmapLayer, _super);\n\n  function HeatmapLayer(options) {\n    var _this = _super.call(this, options) || this;\n    /**\n     * 图层类型\n     */\n\n\n    _this.type = plot_layer_1.PlotLayer.LayerType.HeatmapLayer;\n    /**\n     * 图层是否具有交互属性\n     */\n\n    _this.interaction = false;\n    var _a = _this.options,\n        name = _a.name,\n        source = _a.source;\n\n    var config = _this.pickLayerConfig(_this.options);\n\n    _this.name = name ? name : (0, util_1.uniqueId)(_this.type);\n    _this.layer = new l7_layers_1.HeatmapLayer((0, tslib_1.__assign)((0, tslib_1.__assign)({}, config), {\n      name: _this.name\n    }));\n\n    _this.mappingLayer(_this.layer, _this.options);\n\n    _this.setSource(source);\n\n    return _this;\n  }\n  /**\n   * 获取默认配置\n   */\n\n\n  HeatmapLayer.prototype.getDefaultOptions = function () {\n    return DEFAULT_OPTIONS;\n  };\n\n  HeatmapLayer.prototype.mappingLayer = function (layer, options) {\n    (0, adaptor_1.mappingLayer)(layer, options);\n  };\n\n  HeatmapLayer.prototype.update = function (options) {\n    _super.prototype.update.call(this, options);\n\n    this.mappingLayer(this.layer, this.options);\n  };\n  /**\n   * 默认配置项\n   */\n\n\n  HeatmapLayer.DefaultOptions = DEFAULT_OPTIONS;\n  /**\n   * 图层配置项 Keys\n   */\n\n  HeatmapLayer.LayerOptionsKeys = plot_layer_1.PlotLayer.LayerConfigkeys.concat(LAYER_OPTIONS_KEYS);\n  return HeatmapLayer;\n}(plot_layer_1.PlotLayer);\n\nexports.HeatmapLayer = HeatmapLayer;","map":null,"metadata":{},"sourceType":"script"}