{"ast":null,"code":"import 'reflect-metadata';\n/** Application 扩展依赖 */\n\nimport { HookConfig } from './config';\nimport { HookRegistry } from './hook-registry';\nimport { Contribution, Module } from 'mana-syringe';\nimport { RuntimeContribution } from './contributions/default';\nimport { GraphEventContribution } from './contributions/graph';\nimport { IHookContribution } from './interface';\n/** 依赖扩展模块，必须要加载 */\n\nconst createModule = config => {\n  return Module(register => {\n    /** 注册 IGraphHookContribution 成为一个新扩展点 */\n    Contribution.register(register, IHookContribution);\n    /** 扩展 runtime hook */\n\n    register(RuntimeContribution);\n    /** 扩展 graph event hook */\n\n    register(GraphEventContribution);\n    /** 注册 HookRegistry 到 IFrontendApplicationContribution */\n\n    /** 注册 HookRegistry */\n\n    register(HookRegistry);\n    /** 注册 XFlowHookConfig */\n\n    register(HookConfig, {\n      useValue: config\n    });\n  });\n};\n\nexport { HookRegistry, createModule, IHookContribution, HookConfig as XFlowHookConfig };","map":null,"metadata":{},"sourceType":"module"}